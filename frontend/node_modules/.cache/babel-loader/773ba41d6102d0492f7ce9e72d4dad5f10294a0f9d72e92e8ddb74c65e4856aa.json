{"ast":null,"code":"var _jsxFileName = \"/Users/eftelyasivridag/Desktop/Doctor-Patient-Portal/frontend/src/components/SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { GoogleMap, LoadScript, Marker } from \"@react-google-maps/api\";\nimport \"../styles/DoctorSearch.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchResults = () => {\n  _s();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get(\"q\") || \"\";\n  const city = searchParams.get(\"location\") || \"İzmir\";\n  const [doctors, setDoctors] = useState([]);\n  const API_URL = process.env.NEXT_PUBLIC_BACKEND_URL;\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/api/doctors/search?q=${query}&location=${city}`);\n        setDoctors(response.data);\n      } catch (error) {\n        console.error(\"Error fetching doctors:\", error);\n      }\n    };\n    fetchDoctors();\n  }, [query, city]);\n\n  // Function to get current week's available times\n  const getCurrentWeekTimes = availableTimes => {\n    const today = new Date();\n    const endOfWeek = new Date();\n    endOfWeek.setDate(today.getDate() + 6); // Current week (next 6 days)\n\n    return availableTimes.filter(time => {\n      const timeDate = new Date(time.date);\n      return timeDate >= today && timeDate <= endOfWeek;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"results-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [query, \", \", city]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Herhangi bir ek \\xFCcret \\xF6demeden randevu al\\u0131n.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), doctors.length > 0 ? doctors.map(doctor => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"doctor-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"doctor-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: doctor.image,\n          alt: doctor.name,\n          className: \"doctor-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [doctor.name, \" \\u2705\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: doctor.specialization\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: doctor.city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u2B50 \", doctor.reviews, \" G\\xF6r\\xFC\\u015F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"appointment-times\",\n        children: getCurrentWeekTimes(doctor.availableTimes).map((time, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          children: time.time\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this)]\n    }, doctor.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Sonu\\xE7 bulunamad\\u0131.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: /*#__PURE__*/_jsxDEV(LoadScript, {\n        googleMapsApiKey: \"AIzaSyBAaYDx5l5OTNGC-qWyo4VCwhpuygOhuAo\",\n        children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n          mapContainerClassName: \"google-map\",\n          center: {\n            lat: 38.4192,\n            lng: 27.1287\n          },\n          zoom: 12,\n          children: doctors.map(doctor => /*#__PURE__*/_jsxDEV(Marker, {\n            position: {\n              lat: doctor.lat,\n              lng: doctor.lng\n            }\n          }, doctor.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchResults, \"CPh90/+eRdQf2UgPjR06Zusj+K0=\", false, function () {\n  return [useLocation];\n});\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","axios","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","SearchResults","_s","location","searchParams","URLSearchParams","search","query","get","city","doctors","setDoctors","API_URL","process","env","NEXT_PUBLIC_BACKEND_URL","fetchDoctors","response","data","error","console","getCurrentWeekTimes","availableTimes","today","Date","endOfWeek","setDate","getDate","filter","time","timeDate","date","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","doctor","src","image","alt","name","specialization","reviews","index","id","googleMapsApiKey","mapContainerClassName","center","lat","lng","zoom","position","_c","$RefreshReg$"],"sources":["/Users/eftelyasivridag/Desktop/Doctor-Patient-Portal/frontend/src/components/SearchResults.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { GoogleMap, LoadScript, Marker } from \"@react-google-maps/api\";\nimport \"../styles/DoctorSearch.css\";\n\nconst SearchResults = () => {\n    const location = useLocation();\n    const searchParams = new URLSearchParams(location.search);\n    const query = searchParams.get(\"q\") || \"\";\n    const city = searchParams.get(\"location\") || \"İzmir\";\n    const [doctors, setDoctors] = useState([]);\n    const API_URL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\n    useEffect(() => {\n        const fetchDoctors = async () => {\n            try {\n                const response = await axios.get(\n                    `${API_URL}/api/doctors/search?q=${query}&location=${city}`\n                );\n                setDoctors(response.data);\n            } catch (error) {\n                console.error(\"Error fetching doctors:\", error);\n            }\n        };\n        fetchDoctors();\n    }, [query, city]);\n\n    // Function to get current week's available times\n    const getCurrentWeekTimes = (availableTimes) => {\n        const today = new Date();\n        const endOfWeek = new Date();\n        endOfWeek.setDate(today.getDate() + 6); // Current week (next 6 days)\n\n        return availableTimes.filter(time => {\n            const timeDate = new Date(time.date);\n            return timeDate >= today && timeDate <= endOfWeek;\n        });\n    };\n\n    return (\n        <div className=\"results-container\">\n            <div className=\"results-header\">\n                <h3>{query}, {city}</h3>\n                <p>Herhangi bir ek ücret ödemeden randevu alın.</p>\n            </div>\n\n            {doctors.length > 0 ? (\n                doctors.map((doctor) => (\n                    <div key={doctor.id} className=\"doctor-card\">\n                        <div className=\"doctor-info\">\n                            <img src={doctor.image} alt={doctor.name} className=\"doctor-image\"/>\n                            <div>\n                                <h4>{doctor.name} ✅</h4>\n                                <p>{doctor.specialization}</p>\n                                <p>{doctor.city}</p>\n                                <p>⭐ {doctor.reviews} Görüş</p>\n                            </div>\n                        </div>\n                        <div className=\"appointment-times\">\n                            {getCurrentWeekTimes(doctor.availableTimes).map((time, index) => (\n                                <button key={index}>{time.time}</button>\n                            ))}\n                        </div>\n                    </div>\n                ))\n            ) : (\n                <p>Sonuç bulunamadı.</p>\n            )}\n\n            <div className=\"map-container\">\n                <LoadScript googleMapsApiKey=\"AIzaSyBAaYDx5l5OTNGC-qWyo4VCwhpuygOhuAo\">\n                    <GoogleMap\n                        mapContainerClassName=\"google-map\"\n                        center={{ lat: 38.4192, lng: 27.1287 }}\n                        zoom={12}\n                    >\n                        {doctors.map((doctor) => (\n                            <Marker key={doctor.id} position={{ lat: doctor.lat, lng: doctor.lng }} />\n                        ))}\n                    </GoogleMap>\n                </LoadScript>\n            </div>\n        </div>\n    );\n};\n\nexport default SearchResults;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}